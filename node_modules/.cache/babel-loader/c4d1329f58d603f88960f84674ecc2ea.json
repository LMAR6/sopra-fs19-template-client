{"ast":null,"code":"import _defineProperty from \"/home/lma/SoPra/sopra-fs19-client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/lma/SoPra/sopra-fs19-client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/lma/SoPra/sopra-fs19-client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/lma/SoPra/sopra-fs19-client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/lma/SoPra/sopra-fs19-client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/lma/SoPra/sopra-fs19-client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/lma/SoPra/sopra-fs19-client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/lma/SoPra/sopra-fs19-client/src/components/login/Login.js\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { BaseContainer } from \"../../helpers/layout\";\nimport { getDomain } from \"../../helpers/getDomain\";\nimport User from \"../shared/models/User\";\nimport { withRouter } from \"react-router-dom\";\nimport { Button } from \"../../views/design/Button\";\nimport { userService } from '../_services';\n\nvar LoginPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(LoginPage, _React$Component);\n\n  function LoginPage(props) {\n    var _this;\n\n    _classCallCheck(this, LoginPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LoginPage).call(this, props));\n    userService.logout();\n    _this.state = {\n      username: '',\n      password: '',\n      submitted: false,\n      loading: false,\n      error: ''\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(LoginPage, [{\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      var _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n      this.setState(_defineProperty({}, name, value));\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      var _this2 = this;\n\n      e.preventDefault();\n      this.setState({\n        submitted: true\n      });\n      var _this$state = this.state,\n          username = _this$state.username,\n          password = _this$state.password,\n          returnUrl = _this$state.returnUrl; // stop here if form is invalid\n\n      if (!(username && password)) {\n        return;\n      }\n\n      this.setState({\n        loading: true\n      });\n      userService.login(username, password).then(function (user) {\n        var _ref = _this2.props.location.state || {\n          from: {\n            pathname: \"/\"\n          }\n        },\n            from = _ref.from;\n\n        _this2.props.history.push(from);\n      }, function (error) {\n        return _this2.setState({\n          error: error,\n          loading: false\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          username = _this$state2.username,\n          password = _this$state2.password,\n          submitted = _this$state2.submitted,\n          loading = _this$state2.loading,\n          error = _this$state2.error;\n      return React.createElement(\"div\", {\n        className: \"col-md-6 col-md-offset-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"alert alert-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Username: test\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), \"Password: test\"), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \"Login\"), React.createElement(\"form\", {\n        name: \"form\",\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: 'form-group' + (submitted && !username ? ' has-error' : ''),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"username\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Username\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"username\",\n        value: username,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }), submitted && !username && React.createElement(\"div\", {\n        className: \"help-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Username is required\")), React.createElement(\"div\", {\n        className: 'form-group' + (submitted && !password ? ' has-error' : ''),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"input\", {\n        type: \"password\",\n        className: \"form-control\",\n        name: \"password\",\n        value: password,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), submitted && !password && React.createElement(\"div\", {\n        className: \"help-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Password is required\")), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        disabled: loading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"Login\"), loading && React.createElement(\"img\", {\n        src: \"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      })), error && React.createElement(\"div\", {\n        className: 'alert alert-danger',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, error)));\n    }\n  }]);\n\n  return LoginPage;\n}(React.Component);\n\nexport default {\n  LoginPage: LoginPage\n};","map":{"version":3,"sources":["/home/lma/SoPra/sopra-fs19-client/src/components/login/Login.js"],"names":["React","styled","BaseContainer","getDomain","User","withRouter","Button","userService","LoginPage","props","logout","state","username","password","submitted","loading","error","handleChange","bind","handleSubmit","e","target","name","value","setState","preventDefault","returnUrl","login","then","user","location","from","pathname","history","push","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport styled from \"styled-components\";\nimport { BaseContainer } from \"../../helpers/layout\";\nimport { getDomain } from \"../../helpers/getDomain\";\nimport User from \"../shared/models/User\";\nimport { withRouter } from \"react-router-dom\";\nimport { Button } from \"../../views/design/Button\";\n\nimport { userService } from '../_services';\n\nclass LoginPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    userService.logout();\n\n    this.state = {\n      username: '',\n      password: '',\n      submitted: false,\n      loading: false,\n      error: ''\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(e) {\n    const { name, value } = e.target;\n    this.setState({ [name]: value });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n\n    this.setState({ submitted: true });\n    const { username, password, returnUrl } = this.state;\n\n    // stop here if form is invalid\n    if (!(username && password)) {\n      return;\n    }\n\n    this.setState({ loading: true });\n    userService.login(username, password)\n        .then(\n            user => {\n              const { from } = this.props.location.state || { from: { pathname: \"/\" } };\n              this.props.history.push(from);\n            },\n            error => this.setState({ error, loading: false })\n        );\n  }\n\n  render() {\n    const { username, password, submitted, loading, error } = this.state;\n    return (\n        <div className=\"col-md-6 col-md-offset-3\">\n          <div className=\"alert alert-info\">\n            Username: test<br />\n            Password: test\n          </div>\n          <h2>Login</h2>\n          <form name=\"form\" onSubmit={this.handleSubmit}>\n            <div className={'form-group' + (submitted && !username ? ' has-error' : '')}>\n              <label htmlFor=\"username\">Username</label>\n              <input type=\"text\" className=\"form-control\" name=\"username\" value={username} onChange={this.handleChange} />\n              {submitted && !username &&\n              <div className=\"help-block\">Username is required</div>\n              }\n            </div>\n            <div className={'form-group' + (submitted && !password ? ' has-error' : '')}>\n              <label htmlFor=\"password\">Password</label>\n              <input type=\"password\" className=\"form-control\" name=\"password\" value={password} onChange={this.handleChange} />\n              {submitted && !password &&\n              <div className=\"help-block\">Password is required</div>\n              }\n            </div>\n            <div className=\"form-group\">\n              <button className=\"btn btn-primary\" disabled={loading}>Login</button>\n              {loading &&\n              <img src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\n              }\n            </div>\n            {error &&\n            <div className={'alert alert-danger'}>{error}</div>\n            }\n          </form>\n        </div>\n    );\n  }\n}\n\nexport default { LoginPage };\n"]},"metadata":{},"sourceType":"module"}